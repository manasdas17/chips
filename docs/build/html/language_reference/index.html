

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Chips Language Reference Manual &mdash; Chips v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/chips.ico"/>
    <link rel="top" title="Chips v0.1 documentation" href="../index.html" />
    <link rel="next" title="Automatic Code Generation" href="../automatic_code_generation/index.html" />
    <link rel="prev" title="Tutorial" href="../tutorial/index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../automatic_code_generation/index.html" title="Automatic Code Generation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Chips v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="chips-language-reference-manual">
<h1>Chips Language Reference Manual<a class="headerlink" href="#chips-language-reference-manual" title="Permalink to this headline">¶</a></h1>
<div class="section" id="chip">
<h2>Chip<a class="headerlink" href="#chip" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="chips.Chip">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Chip</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#chips.Chip" title="Permalink to this definition">¶</a></dt>
<dd><p>A Chip is device containing streams, sinks and processes.</p>
<p>Typically a Chip is used to describe a single device. You need to provide
the Chip object with a list of all the sinks (device outputs). You don&#8217;t
need to include any process, variables or streams. By analysing the sinks,
the chip can work out which processes and streams need to be included in
the device.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips.VHDL_plugin</span> <span class="kn">import</span> <span class="n">Plugin</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">switches</span> <span class="o">=</span> <span class="n">InPort</span><span class="p">(</span><span class="s">&quot;SWITCHES&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serial_in</span> <span class="o">=</span> <span class="n">SerialIn</span><span class="p">(</span><span class="s">&quot;RX&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leds</span> <span class="o">=</span> <span class="n">OutPort</span><span class="p">(</span><span class="n">switches</span><span class="p">,</span> <span class="s">&quot;LEDS&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serial_out</span> <span class="o">=</span> <span class="n">SerialOut</span><span class="p">(</span><span class="n">serial_in</span><span class="p">,</span> <span class="s">&quot;TX&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#We need to tell the Chip that leds and serial_out are part of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#the device. The Chip can work out for itself that switches and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#serial_in are part of the device.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">leds</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">serial_out</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">plugin</span> <span class="o">=</span> <span class="n">Plugin</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">write_code</span><span class="p">(</span><span class="n">plugin</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-chips.process">
<span id="process"></span><h2>Process<a class="headerlink" href="#module-chips.process" title="Permalink to this headline">¶</a></h2>
<p><em>Processes</em> are used to define the programs that will be executed in the target
<em>Chip</em>.  Each <em>Process</em> contains a single program made up of instructions. When
a <em>Chip</em> is simulated, or run in real hardware, the program within each process
will be run concurrently.</p>
<div class="section" id="process-inputs">
<h3>Process Inputs<a class="headerlink" href="#process-inputs" title="Permalink to this headline">¶</a></h3>
<p>Any <em>Stream</em> may be used as the input to a <em>Process</em>. Only one process may read
from any particular stream.  A <em>Process</em> may read from a <em>Stream</em> using the
<em>read</em> method. The <em>read</em> method accepts a <em>Variable</em> as its argument. A <em>read</em>
from a <em>Stream</em> will stall execution of the <em>Process</em> until data is available.
Similarly, the stream will be stalled, until data is read from it. This
provides a handy way to synchronise processes together, and simplifies the
design of concurrent systems.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#sending process</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theoutput</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="c">#wait for 1 second</span>
<span class="gp">... </span>    <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">While</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> 
<span class="gp">... </span>        <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">WaitUs</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span>    <span class="c">#send some data</span>
<span class="gp">... </span>    <span class="n">theoutput</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">123</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#receiving process</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_variable</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="c">#This instruction will stall the process until data is available</span>
<span class="gp">... </span>    <span class="n">theoutput</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">target_variable</span><span class="p">),</span>
<span class="gp">... </span>    <span class="c">#This instruction will not be run for 1 second</span>
<span class="gp">... </span>    <span class="c">#..</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>
</pre></div>
</div>
</div>
<div class="section" id="process-outputs">
<h3>Process Outputs<a class="headerlink" href="#process-outputs" title="Permalink to this headline">¶</a></h3>
<p>An <em>Output</em> is a special <em>Stream</em> that can be written to by a <em>Process</em>. Only one
<em>Process</em> may write to any particular stream. Like any other <em>Stream</em>, an
<em>Output</em> may be:</p>
<blockquote>
<ul class="simple">
<li>Read by a <em>Process</em>.</li>
<li>Consumed by a <em>Sink</em>.</li>
<li>Modified to form another <em>Stream</em>.</li>
</ul>
</blockquote>
<p>A <em>Process</em> may write to an <em>Output</em> stream using the <em>write</em> method. The
<em>write</em> method accepts an expression as its argument. A <em>write</em> to an output
will stall the process until the receiver is ready to receive data.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#sending process</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theoutput</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="c">#This instruction will stall the process until data is available</span>
<span class="gp">... </span>    <span class="n">theoutput</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">123</span><span class="p">),</span>
<span class="gp">... </span>    <span class="c">#This instruction will not be run for 1 second</span>
<span class="gp">... </span>    <span class="c">#..</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#receiving process</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_variable</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="c">#wait for 1 second</span>
<span class="gp">... </span>    <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">While</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> 
<span class="gp">... </span>        <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">WaitUs</span><span class="p">(),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span>    <span class="c">#get some data</span>
<span class="gp">... </span>    <span class="n">theoutput</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">target_variable</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>
</pre></div>
</div>
</div>
<div class="section" id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h3>
<p>Data is stored and manipulated within a process using <em>Variables</em>. A <em>Variable</em>
may only be accessed by one process.  When a <em>Variable</em> an initial value must
be supplied. A variable will be reset to its initial value before any process
instructions are executed.  A <em>Variable</em> may be assigned a value using the
<em>set</em> method. The <em>set</em> method accepts an expression as its argument.</p>
<p>It is important to understand that a <em>Variable</em> object created like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>is different from a normal Python variable created like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="mi">12</span>
</pre></div>
</div>
<p>The key is to understand that a <em>Variable</em> will exist in the target <em>Chip</em>, and
may be assigned and referenced as the <em>Process</em> executes. A Python variable can
exist only in the Python environment, and not in a <em>Chip</em>. While a Python
variable may be converted into a constant in the target <em>Chip</em>, a <em>Process</em>
has no way to change its value when it executes.</p>
</div>
<div class="section" id="expressions">
<h3>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h3>
<p><em>Variables</em> and <em>Constants</em> are the most basic form of expressions. More
complex expressions can be formed by combining <em>Constants</em>, <em>Variables</em> and
other expressions using following unary operators:</p>
<div class="highlight-python"><pre>~</pre>
</div>
<p>and the folowing binary operators:</p>
<div class="highlight-python"><pre>+, -, *, //, %, &amp;, |, ^, &lt;&lt;, &gt;&gt;, ==, !=, &lt;, &lt;=, &gt;, &gt;=</pre>
</div>
<p>The function <em>Not</em> evaluates to the logical negation of each data item
equivalent to <tt class="docutils literal"><span class="pre">==0</span></tt>. The function <em>abs</em> evaluates to the magnitude of each
data item.</p>
<p>If one of the operands of a binary operator is not an expression, the Chips
library will attempt to convert this operand into an integer. If the conversion
is successful, a <em>Constant</em> object will be created using the integer value.
The <em>Constant</em> object will be used in place of the non-expression operand. This
allows constructs such as <tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">47+Constant(10)</span></tt> to be used as a shorthand for
<tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">Constant(47)+Constant(10)</span></tt> or <tt class="docutils literal"><span class="pre">count.set(Constant(15)+3*2</span></tt> to be used
as a shorthand for <tt class="docutils literal"><span class="pre">count.set(Constant(15)+Constant(6)</span></tt>.  Of course <tt class="docutils literal"><span class="pre">a=1+1</span></tt>
still yields the integer 2 rather than an expression.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The divide <tt class="docutils literal"><span class="pre">//</span></tt> operator in <em>Chips</em> works differently then the divide
operator in Python.  While a floor division in Python rounds to -infinite,
in <em>Chips</em> division rounds to <tt class="docutils literal"><span class="pre">0</span></tt>. Thus <tt class="docutils literal"><span class="pre">-3//2</span></tt> rounds to <tt class="docutils literal"><span class="pre">-2</span></tt> in
Python, it rounds to <tt class="docutils literal"><span class="pre">-1</span></tt> in <em>Chips</em>. This should be more familiar to
users of C, C++ and VHDL. The same also applies to the modulo <tt class="docutils literal"><span class="pre">%</span></tt>
operator.</p>
</div>
<p>An expression within a process will always inherit the data width in bits of
the <em>Process</em> in which it is evaluated. A <em>Stream</em> expression such as
<tt class="docutils literal"><span class="pre">Repeater(255)</span> <span class="pre">+</span> <span class="pre">1</span></tt> will automatically yield a 10-bit <em>Stream</em> so that the
value 256 can be represented. A similar expression Constant(255)+1 will give an
9-bit result in a 9-bit process yielding the value -1. If the same expression
is evaluated in a 10-bit process, the result will be 256.</p>
</div>
<div class="section" id="operator-precedence">
<h3>Operator Precedence<a class="headerlink" href="#operator-precedence" title="Permalink to this headline">¶</a></h3>
<p>The operator precedence is inherited from the Python language. The following
table summarizes the operator precedences, from lowest precedence (least
binding) to highest precedence (most binding). Operators in the same row have
the same precedence.</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>==, !=, &lt;, &lt;=, &gt;, &gt;=</td>
<td>Comparisons</td>
</tr>
<tr><td><div class="first last line-block">
<div class="line"><br /></div>
</div>
</td>
<td>Bitwise OR</td>
</tr>
<tr><td>^</td>
<td>Bitwise XOR</td>
</tr>
<tr><td>&amp;</td>
<td>Bitwise AND</td>
</tr>
<tr><td>&lt;&lt;, &gt;&gt;</td>
<td>Shifts</td>
</tr>
<tr><td>+, -</td>
<td>Addition and subtraction</td>
</tr>
<tr><td>*, //, %</td>
<td>multiplication, division and modulo</td>
</tr>
<tr><td>~</td>
<td>bitwise NOT</td>
</tr>
<tr><td>Not, abs</td>
<td>logical NOT, absolute</td>
</tr>
</tbody>
</table>
</div>
<dl class="class">
<dt id="chips.Process">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Process</tt><big>(</big><em>bits</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.Process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="chips.Variable">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Variable</tt><big>(</big><em>initial</em><big>)</big><a class="headerlink" href="#chips.Variable" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Variable</em> is used within a <em>Process</em> to store data. A <em>Variable</em> can
be used in only one <em>Process</em>. If you need to communicate with another
<em>Process</em> you must use a stream.</p>
<p>A <em>Variable</em> accepts a single argument, the initial value. A <em>Variable</em>
will be reset to the initial value when a simulation, or actual device is
reset.</p>
<p>A <em>Variable</em> can be assigned an expression using the <em>set</em> method.</p>
</dd></dl>

<dl class="class">
<dt id="chips.VariableArray">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">VariableArray</tt><big>(</big><em>size</em><big>)</big><a class="headerlink" href="#chips.VariableArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>VariableArray</em> is an array of variables that can be accessed from
within a single <em>Process</em>.</p>
<p>When a <em>VariableArray</em> is created, it accepts a single argument, the
<em>size</em>.</p>
<p>A <em>VariableArray</em> can be written to using the <em>write</em> method, the <em>write</em>
method accepts two arguments, an expression indicating the <em>address</em> to
write to, and an expression indicating the <em>data</em> to write.</p>
<p>A <em>VariableArray</em> can be read to using the <em>read</em> method, the <em>read</em> method
accepts a single argument, an expression indicating the <em>address</em> to read
from. The <em>read method returns an expression that evaluates to the value
contained at *address</em>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">number_of_items</span><span class="p">):</span>
<span class="gp">... </span>     <span class="sd">&quot;&quot;&quot;Read number_of_items from stream, and reverse them.&quot;&quot;&quot;</span>
<span class="gp">... </span>     <span class="n">temp</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>     <span class="n">index</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>     <span class="n">reversed_stream</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>     <span class="n">data_store</span> <span class="o">=</span> <span class="n">VariableArray</span><span class="p">(</span><span class="n">number_of_items</span><span class="p">)</span>
<span class="gp">... </span>     <span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">index</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>         <span class="n">While</span><span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">number_of_items</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">data_store</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">index</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>         <span class="p">),</span>
<span class="gp">... </span>         <span class="n">index</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">number_of_items</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>         <span class="n">While</span><span class="p">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">reversed_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data_store</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">index</span><span class="p">)),</span>
<span class="gp">... </span>             <span class="n">index</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>         <span class="p">),</span>
<span class="gp">... </span>     <span class="p">)</span>
<span class="gp">... </span>
<span class="gp">... </span>     <span class="k">return</span> <span class="n">reversed_stream</span>

<span class="go">    </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">reverse</span><span class="p">(</span><span class="n">Sequence</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>     <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">1</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-chips.streams">
<span id="streams"></span><h2>Streams<a class="headerlink" href="#module-chips.streams" title="Permalink to this headline">¶</a></h2>
<p>Streams are a fundamental component of the <em>Chips</em> library.</p>
<dl class="docutils">
<dt>A stream is used to represent a flow of data. A stream can act as a:</dt>
<dd><ul class="first last simple">
<li>An input to a <em>Chip</em> such as an <em>InPort</em> or a <em>SerialIn</em>.</li>
<li>A source of data in its own right such as a <em>Repeater</em> or a <em>Counter</em>.</li>
<li>A means of performing some operation on a stream of data to form 
another stream such as a <em>Printer</em> or a <em>Lookup</em>.</li>
<li>A means of transferring data from one process to another, an <em>Output</em>.</li>
</ul>
</dd>
</dl>
<div class="section" id="stream-expressions">
<h3>Stream Expressions<a class="headerlink" href="#stream-expressions" title="Permalink to this headline">¶</a></h3>
<p>A Stream Expression can be formed by combining Streams or Stream Expressions
with the following unary operators:</p>
<div class="highlight-python"><pre>~</pre>
</div>
<p>and the folowing binary operators:</p>
<div class="highlight-python"><pre>+, -, *, //, %, &amp;, |, ^, &lt;&lt;, &gt;&gt;, ==, !=, &lt;, &lt;=, &gt;, &gt;=</pre>
</div>
<p>The function <em>Not</em> yields the logical negation of each data item equivalent to
<tt class="docutils literal"><span class="pre">==0</span></tt>. The function <em>abs</em> yields the magnitude of each data item.</p>
<p>Each data item in the resulting Stream Expression will be evaluated by removing
a data item from each of the operand streams, and applying the operator
function to these data items.</p>
<p>Generally speaking a Stream Expression will have enough bits to contain any
possible result without any arithmetic overflow. The one exception to this is
the left shift operator where the result is always truncated to the size of the
left hand operand. Stream expressions may be explicitly truncated or sign
extended using the <em>Resizer</em>.</p>
<p>If one of the operands of a binary operator is not a Stream, Python Streams
will attempt to convert this operand into an integer. If the conversion is
successful, a <em>Repeater</em> stream will be created using the integer value. The
repeater stream will be used in place of the non-stream operand. This allows
constructs such as <tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">47+InPort(12,</span> <span class="pre">8)</span></tt> to be used as a shorthand for <tt class="docutils literal"><span class="pre">a</span> <span class="pre">=</span>
<span class="pre">Repeater(47)+InPort(&quot;in&quot;,</span> <span class="pre">8)</span></tt> or <tt class="docutils literal"><span class="pre">count</span> <span class="pre">=</span> <span class="pre">Counter(1,</span> <span class="pre">10,</span> <span class="pre">1)+3*2</span></tt> to be used as
a shorthand for <tt class="docutils literal"><span class="pre">count</span> <span class="pre">=</span> <span class="pre">Counter(1,</span> <span class="pre">10,</span> <span class="pre">1)+Repeater(5)</span></tt>.  Of course <tt class="docutils literal"><span class="pre">a=1+1</span></tt>
still yields the integer 2 rather than a stream.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The divide <tt class="docutils literal"><span class="pre">//</span></tt> operator in <em>Chips</em> works differently then the divide
operator in Python.  While a floor division in Python rounds to -infinite,
in <em>Chips</em> division rounds to <tt class="docutils literal"><span class="pre">0</span></tt>. Thus <tt class="docutils literal"><span class="pre">-3//2</span></tt> rounds to <tt class="docutils literal"><span class="pre">-2</span></tt> in
Python, it rounds to <tt class="docutils literal"><span class="pre">-1</span></tt> in <em>Chips</em>. This should be more familiar to
users of C, C++ and VHDL. The same also applies to the modulo <tt class="docutils literal"><span class="pre">%</span></tt>
operator.</p>
</div>
<p>The operators provided in the Python Streams library are summarised in the
table below. The bit width field specifies how many bits are used for the
result based on the number of bits in the left and right hand operands.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="51%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Operator</th>
<th class="head">Function</th>
<th class="head">Data Width (bits)</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>abs</td>
<td>Logical Not</td>
<td>argument</td>
</tr>
<tr><td>Not</td>
<td>Logical Not</td>
<td>1</td>
</tr>
<tr><td>~</td>
<td>Bitwise not</td>
<td>right</td>
</tr>
<tr><td>+</td>
<td>Signed Add</td>
<td>max(left, right) + 1</td>
</tr>
<tr><td>-</td>
<td>Signed Subtract</td>
<td>max(left, right) + 1</td>
</tr>
<tr><td>*</td>
<td>Signed Multiply</td>
<td>left + right</td>
</tr>
<tr><td>//</td>
<td>Signed Floor Division</td>
<td>max(left, right) + 1</td>
</tr>
<tr><td>%</td>
<td>Signed Modulo</td>
<td>max(left, right)</td>
</tr>
<tr><td>&amp;</td>
<td>Bitwise AND</td>
<td>max(left, right)</td>
</tr>
<tr><td>|</td>
<td>Bitwise OR</td>
<td>max(left, right)</td>
</tr>
<tr><td>^</td>
<td>Bitwise XOR</td>
<td>max(left, right)</td>
</tr>
<tr><td>&lt;&lt;</td>
<td>Arithmetic Left Shift</td>
<td>left</td>
</tr>
<tr><td>&gt;&gt;</td>
<td>Arithmetic Right Shift</td>
<td>left</td>
</tr>
<tr><td>==</td>
<td>Equality Comparison</td>
<td>1</td>
</tr>
<tr><td>!=</td>
<td>Inequality Comparison</td>
<td>1</td>
</tr>
<tr><td>&lt;</td>
<td>Signed Less Than
Comparison</td>
<td>1</td>
</tr>
<tr><td>&lt;=</td>
<td>Signed Less Than or Equal
Comparison</td>
<td>1</td>
</tr>
<tr><td>&gt;</td>
<td>Signed Greater Than
Comparison</td>
<td>1</td>
</tr>
<tr><td>&gt;=</td>
<td>Signed Greater Than
Comparison</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id1">
<h3>Operator Precedence<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The operator precedence is inherited from the python language. The following
table summarizes the operator precedences, from lowest precedence (least
binding) to highest precedence (most binding). Operators in the same row have
the same precedence.</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>==, !=, &lt;, &lt;=, &gt;, &gt;=</td>
<td>Comparisons</td>
</tr>
<tr><td><div class="first last line-block">
<div class="line"><br /></div>
</div>
</td>
<td>Bitwise OR</td>
</tr>
<tr><td>^</td>
<td>Bitwise XOR</td>
</tr>
<tr><td>&amp;</td>
<td>Bitwise AND</td>
</tr>
<tr><td>&lt;&lt;, &gt;&gt;</td>
<td>Shifts</td>
</tr>
<tr><td>+, -</td>
<td>Addition and subtraction</td>
</tr>
<tr><td>*, //, %</td>
<td>multiplication, division and modulo</td>
</tr>
<tr><td>~</td>
<td>bitwise NOT</td>
</tr>
<tr><td>Not, abs</td>
<td>logical NOT, absolute</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streams-reference">
<h3>Streams Reference<a class="headerlink" href="#streams-reference" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chips.Array">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Array</tt><big>(</big><em>address_in</em>, <em>data_in</em>, <em>address_out</em>, <em>depth</em><big>)</big><a class="headerlink" href="#chips.Array" title="Permalink to this definition">¶</a></dt>
<dd><p>An <em>Array</em> is a stream yields values from a writeable lookup table.</p>
<p>Like a <em>Lookup</em>, an <em>Array</em> looks up each data item in the <em>address_in</em>
stream, and yields the value in the lookup table. In an <em>Array</em>, the lookup
table is set up dynamically using data items from the <em>address_in</em> and
<em>data_in</em> streams. An <em>Array</em> is equivalent to a Random Access Memory (RAM)
with independent read, and write ports.</p>
<p>A <em>Lookup</em> accepts <em>address_in</em>, <em>data_in</em> and <em>address_out</em> arguments as
source streams. The <em>depth</em> argument specifies the size of the lookup table.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">video_raster_stream</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">row_stream</span><span class="p">,</span> <span class="n">col_stream</span><span class="p">,</span> 
<span class="gp">... </span>                        <span class="n">intensity</span><span class="p">):</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="n">pixel_clock</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">*</span><span class="n">height</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>     
<span class="gp">... </span>    <span class="n">pixstream</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">address_in</span> <span class="o">=</span> <span class="p">(</span><span class="n">row_stream</span> <span class="o">*</span> <span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="n">col_stream</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data_in</span> <span class="o">=</span> <span class="n">intensity</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">address_out</span> <span class="o">=</span> <span class="n">pixel_clock</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">depth</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">height</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">pixstream</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pixstream</span> <span class="o">=</span> <span class="n">video_raster_stream</span><span class="p">(</span>
<span class="gp">... </span>    <span class="mi">64</span><span class="p">,</span> 
<span class="gp">... </span>    <span class="mi">64</span><span class="p">,</span> 
<span class="gp">... </span>    <span class="n">Repeater</span><span class="p">(</span><span class="mi">32</span><span class="p">),</span> 
<span class="gp">... </span>    <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> 
<span class="gp">... </span>    <span class="n">Repeater</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Counter">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Counter</tt><big>(</big><em>start</em>, <em>stop</em>, <em>step</em><big>)</big><a class="headerlink" href="#chips.Counter" title="Permalink to this definition">¶</a></dt>
<dd><p>A Stream which yields numbers from <em>start</em> to <em>stop</em> in <em>step</em> increments.</p>
<p>A <em>Counter</em> is a versatile, and commonly used construct in device design,
they can be used to number samples, index memories and so on.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c">#creates a 4 bit stream</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">6</span>
<span class="go">8</span>
<span class="go">10</span>
<span class="go">0</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Counter</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="c">#creates a 4 bit stream</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">8</span>
<span class="go">6</span>
<span class="go">4</span>
<span class="go">2</span>
<span class="go">0</span>
<span class="go">10</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Decoupler">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Decoupler</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#chips.Decoupler" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Decoupler</em> removes stream handshaking.</p>
<p>Usually, data is transfered though streams using blocking transfers. When a
process writes to a stream, execution will be halted until the receiving
process reads the data. While this behaviour greatly simplifies the design
of parallel processes, sometimes Non-blocking transfers are needed. When a
data item is written to a <em>Decoupler</em>, it is stored. When a <em>Decoupler</em> is
read from, the value of the last stored value is yielded. Neither the
sending or the receiving process ever blocks. This also means that the
number of data items written into the <em>Decoupler</em> and the number read out
do not have to be the same.</p>
<p>A <em>Decoupler</em> accepts only one argument, the source stream.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">time_stamp_data</span><span class="p">(</span><span class="n">data_stream</span><span class="p">):</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="n">us_time</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">time</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">WaitUs</span><span class="p">(),</span>
<span class="gp">... </span>            <span class="n">time</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">time</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">us_time</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">time</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">temp</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">data_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">output_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">us_time</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">output_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">output_stream</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">time_stamped_stream</span> <span class="o">=</span> <span class="n">time_stamp_data</span><span class="p">(</span><span class="n">SerialIn</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Fifo">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Fifo</tt><big>(</big><em>data_in</em>, <em>depth</em><big>)</big><a class="headerlink" href="#chips.Fifo" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Fifo</em> stores a buffer of data items.</p>
<p>A <em>Fifo</em> contains a fixed size buffer of objects obtained from the source
stream. A <em>Fifo</em> yields the data items in the same order in which they were
stored.</p>
<p>The first argument to a <em>Fifo</em>, is the source stream, the <em>depth</em> argument
determines the size of the Fifo buffer.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">scope</span><span class="p">(</span><span class="n">ADC_stream</span><span class="p">,</span> <span class="n">trigger_level</span><span class="p">,</span> <span class="n">buffer_depth</span><span class="p">):</span> 
<span class="gp">... </span>    <span class="n">temp</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">count</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">buffer</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>
<span class="gp">... </span>    <span class="n">Process</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">ADC_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">If</span><span class="p">(</span><span class="n">temp</span> <span class="o">&gt;</span> <span class="n">trigger_level</span><span class="p">,</span>
<span class="gp">... </span>                <span class="nb">buffer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">buffer_depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">While</span><span class="p">(</span><span class="n">count</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">ADC_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="nb">buffer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                <span class="p">),</span>
<span class="gp">... </span>            <span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>            
<span class="gp">... </span>    <span class="k">return</span> <span class="n">Printer</span><span class="p">(</span><span class="n">Fifo</span><span class="p">(</span><span class="nb">buffer</span><span class="p">,</span> <span class="n">buffer_depth</span><span class="p">))</span>
<span class="gp">... </span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">test_signal</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Console</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">test_signal</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.HexPrinter">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">HexPrinter</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#chips.HexPrinter" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>HexPrinter</em> turns data into hexadecimal ASCII characters.</p>
<p>Each each data item is turned into the ASCII representation of its
hexadecimal value, terminated with a newline character. Each character then
forms a data item in the <em>HexPrinter</em> stream.</p>
<p>A <em>HexPrinter</em> accepts a single argument, the source stream. A <em>HexPrinter</em>
stream is always 8 bits wide.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#print the numbers 0x0-0x10 to the console repeatedly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">HexPrinter</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Counter</span><span class="p">(</span><span class="mh">0x0</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
<span class="go">6</span>
<span class="go">7</span>
<span class="go">8</span>
<span class="go">9</span>
<span class="go">a</span>
<span class="go">b</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.InPort">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">InPort</tt><big>(</big><em>name</em>, <em>bits</em><big>)</big><a class="headerlink" href="#chips.InPort" title="Permalink to this definition">¶</a></dt>
<dd><p>A device input port stream.</p>
<p>An <em>InPort</em> allows a port pins of the target device to be used as a data
stream.  There is no handshaking on the input port. The port pins are
sampled at the point when data is transfered by the stream.  When
implemented in VHDL, the <em>InPort</em> provides double registers on the port
pins to synchronise data to the local clock domain.</p>
<p>Since it is not possible to determine the width of the stream in bits
automatically, this must be specified using the <em>bits</em> argument.</p>
<p>The <em>name</em> parameter allows a string to be associated with the input port.
In a VHDL implementation, <em>name</em> will be used as the port name in the
top level entity.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dip_switches</span> <span class="o">=</span> <span class="n">InPort</span><span class="p">(</span><span class="s">&quot;dip_switches&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">SerialOut</span><span class="p">(</span><span class="n">Printer</span><span class="p">(</span><span class="n">dip_switches</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Lookup">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Lookup</tt><big>(</big><em>source</em>, <em>*args</em><big>)</big><a class="headerlink" href="#chips.Lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Lookup</em> is a stream yields values from a read-only look up table.</p>
<p>For each data item in the source stream, a <em>Lookup</em> will yield the
addressed value in the lookup table. A <em>Lookup</em> is basically a Read Only
Memory(ROM) with the source stream forming the address, and the <em>Lookup</em>
itself forming the data output.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">binary_2_gray</span><span class="p">(</span><span class="n">input_stream</span><span class="p">):</span> 
<span class="gp">... </span>    <span class="k">return</span> <span class="n">Lookup</span><span class="p">(</span><span class="n">input_stream</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span><span class="n">binary_2_gray</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">6</span>
<span class="go">7</span>
<span class="go">5</span>
<span class="go">4</span>
<span class="go">0</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>The first argument to a <em>Lookup</em> is the source stream, all additional
arguments form the lookup table. If you want to use a Python sequence
object such as a tuple or a list to form the lookup table use the following
syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> 
<span class="gp">... </span><span class="n">my_sequence</span> <span class="o">=</span> <span class="n">Lookup</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">*</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Output">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Output</tt><a class="headerlink" href="#chips.Output" title="Permalink to this definition">¶</a></dt>
<dd><p>An <em>Output</em> is a stream that can be written to by a process.</p>
<p>Any stream can be read from by a process. Only an <em>Output</em> stream can be
written to by a process.  A process can be written to by using the <em>read</em>
method. The read method accepts one argument, an expression to write.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">tee</span><span class="p">(</span><span class="n">input_stream</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">output_stream_1</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">output_stream_2</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">temp</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">Process</span><span class="p">(</span><span class="n">input_stream</span><span class="o">.</span><span class="n">get_bits</span><span class="p">(),</span>
<span class="gp">... </span>        <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">input_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">output_stream_1</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">output_stream_2</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">output_stream_1</span><span class="p">,</span> <span class="n">output_stream_2</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">os_1</span><span class="p">,</span> <span class="n">os_2</span> <span class="o">=</span> <span class="n">tee</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span><span class="n">os_1</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span><span class="n">os_2</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Printer">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Printer</tt><big>(</big><em>source</em><big>)</big><a class="headerlink" href="#chips.Printer" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Printer</em> turns data into decimal ASCII characters.</p>
<p>Each each data item is turned into the ASCII representation of its decimal
value, terminated with a newline character. Each character then forms a
data item in the <em>Printer</em> stream.</p>
<p>A <em>Printer</em> accepts a single argument, the source stream. A <em>Printer</em>
stream is always 8 bits wide.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#print the numbers 0-10 to the console repeatedly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Repeater">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Repeater</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#chips.Repeater" title="Permalink to this definition">¶</a></dt>
<dd><p>A stream which repeatedly yields the specified <em>value</em>.</p>
<p>The <em>Repeater</em> stream is one of the most fundamental streams available.</p>
<p>The width of the stream in bits is calculated automatically. The smallest
number of bits that can represent <em>value</em> in twos-complement format will be
used.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Repeater</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c">#creates a 4 bit stream</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">5</span>
<span class="go">5</span>
<span class="go">5</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Repeater</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c">#creates a 5 bit stream</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">10</span>
<span class="go">10</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="c">#This is shorthand for: Repeater(5)*Repeater(2)</span>
<span class="gp">... </span>            <span class="n">Repeater</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">10</span>
<span class="go">10</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Resizer">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Resizer</tt><big>(</big><em>source</em>, <em>bits</em><big>)</big><a class="headerlink" href="#chips.Resizer" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Resizer</em> changes the width, in bits, of the source stream.</p>
<p>The <em>Resizer</em> takes two arguments, the source stream, and the <em>width</em> in
bits. The <em>Resizer</em> will truncate data if it is reducing the width, ans
sign extend if it is increasing the width.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">InPort</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;din&quot;</span><span class="p">,</span> <span class="n">bits</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span> <span class="c">#a has a width of 8 bits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">get_bits</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span> <span class="c">#b has a width of 9 bits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">get_bits</span><span class="p">()</span>
<span class="go">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Resizer</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="c">#c is truncated to 8 bits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get_bits</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Chip</span><span class="p">(</span><span class="n">OutPort</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;dout&quot;</span><span class="p">))</span>
<span class="go">Chip(...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.Scanner">
<tt class="descclassname">chips.</tt><tt class="descname">Scanner</tt><big>(</big><em>stream</em>, <em>bits</em><big>)</big><a class="headerlink" href="#chips.Scanner" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Scanner</em> converts a stream of decimal ASCII into their integer value.</p>
<p>Numeric characters separated by non-numeric characters are interpreted as
numbers.  As it is not possible to determine the maximum value of a
<em>Scanner</em> stream at compile time, the width of the stream must be specified
using the bits parameter.</p>
<p>The <em>Scanner</em> stream accepts two inputs, the source stream and the number
of bits.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#multiply by two and echo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Scanner</span><span class="p">(</span><span class="n">Sequence</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="s">&quot;10 20 30 &quot;</span><span class="p">)),</span> <span class="mi">8</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> 
<span class="go">20</span>
<span class="go">40</span>
<span class="go">60</span>
<span class="go">20</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.Sequence">
<tt class="descclassname">chips.</tt><tt class="descname">Sequence</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#chips.Sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Sequence</em> stream yields each of its arguments in turn repeatedly.</p>
<p>A <em>Sequence</em> accepts any number of arguments. The bit width of a sequence
is determined automatically, using the number of bits necessary to
represent the argument with the largest magnitude. A <em>Sequence</em> allows
Python sequences to be used within a Chips simulation using the
<tt class="docutils literal"><span class="pre">Sequence(*python_sequence)</span></tt> syntax.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Sequence</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="s">&quot;hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="go">hello world</span>
<span class="go">hello world</span>
<span class="go">hello world</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.SerialIn">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">SerialIn</tt><big>(</big><em>name='RX'</em>, <em>clock_rate=50000000</em>, <em>baud_rate=115200</em><big>)</big><a class="headerlink" href="#chips.SerialIn" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>SerialIn</em> yields data from a serial UART port.</p>
<p><em>SerialIn</em> yields one data item from the serial input port for each
character read from the source stream.  The stream is always 8 bits wide.</p>
<p>A <em>SerialIn</em> accepts an optional <em>name</em> argument which is used as the name
for the serial RX line in generated VHDL. The clock rate of the target
device in MHz can be specified using the <em>clock_rate</em> argument. The baud
rate of the serial input can be specified using the <em>baud_rate</em> argument.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#echo typed characters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">SerialOut</span><span class="p">(</span><span class="n">SerialIn</span><span class="p">()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Stimulus">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Stimulus</tt><big>(</big><em>bits</em><big>)</big><a class="headerlink" href="#chips.Stimulus" title="Permalink to this definition">¶</a></dt>
<dd><p>A Stream that allows a Python iterable to be used as a stream.</p>
<p>A Stimulus stream allows a transparent method to pass data from the Python
environment into the simulation environment. The sequence object is set at
run time using the set_simulation_data() method. The sequence object can be
any iterable Python sequence such as a list, tuple, or even a generator.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">stimulus</span> <span class="o">=</span> <span class="n">Stimulus</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Console</span><span class="p">(</span><span class="n">Printer</span><span class="p">(</span><span class="n">stimulus</span><span class="p">)))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">count</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
<span class="gp">... </span>    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="n">i</span>
<span class="gp">... </span>        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="gp">... </span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">stimulus</span><span class="o">.</span><span class="n">set_simulation_data</span><span class="p">(</span><span class="n">count</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-chips.sinks">
<span id="sinks"></span><h2>Sinks<a class="headerlink" href="#module-chips.sinks" title="Permalink to this headline">¶</a></h2>
<p>Sinks are a fundamental component of the <em>Chips</em> library.</p>
<dl class="docutils">
<dt>A sink is used to terminate a stream. A sink may act as:</dt>
<dd><ul class="first last simple">
<li>An output of a <em>Chip</em> such as an <em>OutPort</em> or <em>SerialOut</em>.</li>
<li>A consumer of data in its own right such as an <em>Asserter</em>.</li>
</ul>
</dd>
</dl>
<div class="section" id="sinks-reference">
<h3>Sinks Reference<a class="headerlink" href="#sinks-reference" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chips.Asserter">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Asserter</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#chips.Asserter" title="Permalink to this definition">¶</a></dt>
<dd><p>An <em>Asserter</em> causes an exception if any data in the source stream is zero.</p>
<p>An <em>Asserter</em> is particularly useful in automated tests, as it causes a
simulation to fail is a condition is not met. In generated VHDL code, an
asserter is represented by a VHDL assert statement. In practice this means
that an <em>Asserter</em> will function correctly in a VHDL simulation, but will
have no effect when synthesized.</p>
<p>The <em>Asserter</em> sink accepts a source stream argument, <em>a</em>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Asserter</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">Sequence</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>
</pre></div>
</div>
<p>Look at the Chips test suite for more examples of the Asserter being used
for automated testing.</p>
</dd></dl>

<dl class="class">
<dt id="chips.Console">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Console</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#chips.Console" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Console</em> outputs data to the simulation console.</p>
<p><em>Console</em> stores characters for output to the console in a buffer. When an
end of line character is seen, the buffer is written to the console.  A
<em>Console</em> interprets a stream of numbers as ASCII characters. The source
stream must be 8 bits wide. The source stream could be truncated to 8 bits
using a <em>Resizer</em>, but it is usually more convenient to use a <em>Printer</em> as
the source stream. The will allow a stream of any width to be represented
as a decimal string.</p>
<p>A <em>Console</em> accepts a source stream argument <em>a</em>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#convert string into a sequence of characters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_world</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s">&quot;hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_chip</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Sequence</span><span class="p">(</span><span class="o">*</span><span class="n">hello_world</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.OutPort">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">OutPort</tt><big>(</big><em>a</em>, <em>name</em><big>)</big><a class="headerlink" href="#chips.OutPort" title="Permalink to this definition">¶</a></dt>
<dd><p>An <em>OutPort</em> sink outputs a stream of data to I/O port pins.</p>
<p>No handshaking is performed on the output port, data will appear at the
time when the source stream transfers data.</p>
<p>An output port take two arguments, the source stream <em>a</em> and a string
<em>name</em>. Name is used as the port name in generated VHDL.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dip_switches</span> <span class="o">=</span> <span class="n">InPort</span><span class="p">(</span><span class="s">&quot;dip_switches&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">led_array</span> <span class="o">=</span> <span class="n">OutPort</span><span class="p">(</span><span class="n">dip_switches</span><span class="p">,</span> <span class="s">&quot;led_array&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">led_array</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Response">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Response</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#chips.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>Response</em> sink allows data to be transfered into Python.</p>
<p>As a simulation is run, the <em>Response</em> sink accumulates data. After a
simulation is run, you can retrieve a python iterable using the
get_simulation_data method. Using a <em>Response</em> sink allows you to
seamlessly integrate your <em>Chips</em> simulation into a wider Python
simulation. This works for simulations using an external simulator as well,
in this case you also need to pass the code generation plugin to
get_simulation_data.</p>
<p>A <em>Response</em> sink accepts a single stream argument as its source.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">streams</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">PIL.Image</span> <span class="c">#You need the Python Imaging Library for this</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">image_processor</span><span class="p">():</span>
<span class="gp">... </span>   <span class="c">#black -&gt; white</span>
<span class="gp">... </span>   <span class="k">return</span> <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">Response</span><span class="p">(</span><span class="n">image_processor</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chip</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">chip</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chip</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">image_data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get_simulation_data</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_data</span> <span class="o">=</span> <span class="n">image_data</span><span class="p">[:(</span><span class="mi">64</span><span class="o">*</span><span class="mi">64</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;L&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">putdata</span><span class="p">(</span><span class="n">image_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.SerialOut">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">SerialOut</tt><big>(</big><em>a</em>, <em>name='TX'</em>, <em>clock_rate=50000000</em>, <em>baud_rate=115200</em><big>)</big><a class="headerlink" href="#chips.SerialOut" title="Permalink to this definition">¶</a></dt>
<dd><p>A <em>SerialOut</em> outputs data to a serial UART port.</p>
<p><em>SerialOut</em> outputs one character to the serial output port for each item
of data in the source stream. At present only 8 data bits are supported, so
the source stream must be 8 bits wide. The source stream could be truncated
to 8 bits using a <em>Resizer</em>, but it is usually more convenient to use a
<em>Printer</em> as the source stream. The will allow a stream of any width to be
represented as a decimal string.</p>
<p>A SerialOut accepts a source stream argument <em>a</em>. An optional <em>name</em>
argument is used as the name for the serial TX line in generated VHDL. The
clock rate of the target device in MHz can be specified using the
<em>clock_rate</em> argument. The baud rate of the serial output can be specified
using the <em>baud_rate</em> argument.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#convert string into a sequence of characters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hello_world</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="s">&quot;hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_chip</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">SerialOut</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Sequence</span><span class="p">(</span><span class="o">*</span><span class="n">hello_world</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-chips.instruction">
<span id="instructions"></span><h2>Instructions<a class="headerlink" href="#module-chips.instruction" title="Permalink to this headline">¶</a></h2>
<p>The instructions provided here form the basis of the software that can be run inside <em>Processes</em>.</p>
<div class="section" id="instructions-reference">
<h3>Instructions Reference<a class="headerlink" href="#instructions-reference" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="chips.Block">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Block</tt><big>(</big><em>instructions</em><big>)</big><a class="headerlink" href="#chips.Block" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Block</em> statement allows instructions to be nested into a single
statement. Using a <em>Block</em> allows a group of instructions to be stored as a
single object. A block accepts a single argument, <em>instructions</em>, a Python
Sequence of instructions</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">initialise</span> <span class="o">=</span> <span class="n">Block</span><span class="p">((</span><span class="n">a</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">b</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">c</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">initialise</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">a</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">c</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Break">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Break</tt><a class="headerlink" href="#chips.Break" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Break</em> statement causes the flow of control to immediately exit the loop.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#equivalent to a While loop</span>
<span class="n">Loop</span><span class="p">(</span>
    <span class="n">If</span><span class="p">(</span><span class="n">Not</span><span class="p">(</span><span class="n">condition</span><span class="p">),</span>
        <span class="n">Break</span><span class="p">(),</span>
    <span class="p">),</span>
    <span class="c">#do stuff here</span>
<span class="p">),</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#equivalent to a DoWhile loop</span>
<span class="n">Loop</span><span class="p">(</span>
    <span class="c">#do stuff here</span>
    <span class="n">If</span><span class="p">(</span><span class="n">Not</span><span class="p">(</span><span class="n">condition</span><span class="p">),</span>
        <span class="n">Break</span><span class="p">(),</span>
    <span class="p">),</span>
<span class="p">),</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Continue">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Continue</tt><a class="headerlink" href="#chips.Continue" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Continue</em> statement causes the flow of control to immediately jump to
the next iteration of the containing loop.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">in_stream</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_stream</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#allow only even numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">in_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">a</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">If</span><span class="p">(</span><span class="n">a</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">Continue</span><span class="p">(),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="n">out_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">a</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Console</span><span class="p">(</span><span class="n">Printer</span><span class="p">(</span><span class="n">out_stream</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">6</span>
<span class="go">8</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.DoUntil">
<tt class="descclassname">chips.</tt><tt class="descname">DoUntil</tt><big>(</big><em>condition</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.DoUntil" title="Permalink to this definition">¶</a></dt>
<dd><p>A loop in which one iteration will be executed each time the condition
is false. The condition is tested after each loop iteration.</p>
<p>Equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Loop</span><span class="p">(</span> 
     <span class="n">instructions</span><span class="p">,</span>
     <span class="n">If</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">Break</span><span class="p">()),</span>
 <span class="p">)</span> 
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.DoWhile">
<tt class="descclassname">chips.</tt><tt class="descname">DoWhile</tt><big>(</big><em>condition</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.DoWhile" title="Permalink to this definition">¶</a></dt>
<dd><p>A loop in which one iteration will be executed each time the condition
is true. The condition is tested after each loop iteration.</p>
<p>Equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Loop</span><span class="p">(</span> 
     <span class="n">instructions</span><span class="p">,</span>
     <span class="n">If</span><span class="p">(</span><span class="n">Not</span><span class="p">(</span><span class="n">condition</span><span class="p">),</span> <span class="n">Break</span><span class="p">()),</span>
 <span class="p">)</span> 
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Evaluate">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Evaluate</tt><big>(</big><em>*instructions</em><big>)</big><a class="headerlink" href="#chips.Evaluate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="chips.If">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">If</tt><big>(</big><em>condition</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.If" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>If</em> statement conditionally executes instructions.</p>
<p>The condition of the <em>If</em> branch is evaluated, followed by the condition of
each of the optional <em>Elif</em> branches. If one of the conditions evaluates
to non-zero then the corresponding instructions will be executed. If the
<em>If</em> condition, and all of the <em>Elif</em> conditions evaluate to zero, then
the instructions in the optional <em>Else</em> branch will be evaluated.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">If</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span>
    <span class="c">#do something</span>
<span class="p">)</span><span class="o">.</span><span class="n">Elif</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span>
    <span class="c">#do something else</span>
<span class="p">)</span><span class="o">.</span><span class="n">Else</span><span class="p">(</span>
    <span class="c">#if all else fails do this</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Loop">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Loop</tt><big>(</big><em>*instructions</em><big>)</big><a class="headerlink" href="#chips.Loop" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Loop</em> statement executes instructions repeatedly.</p>
<p>A <em>Loop</em> can be exited using the <em>Break</em> instruction. A <em>Continue</em>
instruction causes the remainder of instructions in the loop to be skipped.
Execution then repeats from the beginning of the <em>Loop</em>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#filter values over 50 out of a stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in_stream</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_stream</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">in_stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">a</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">If</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="n">Continue</span><span class="p">()),</span>
<span class="gp">... </span>        <span class="n">out_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">a</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Console</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Printer</span><span class="p">(</span><span class="n">out_stream</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">20</span>
<span class="go">30</span>
<span class="go">40</span>
<span class="go">50</span>
<span class="go">10</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#initialise an array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myarray</span> <span class="o">=</span> <span class="n">VariableArray</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">If</span><span class="p">(</span><span class="n">index</span> <span class="o">==</span> <span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">Break</span><span class="p">(),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span>    <span class="n">myarray</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Loop(...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Print">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Print</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#chips.Print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="chips.Scan">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Scan</tt><big>(</big><em>stream</em>, <em>variable</em><big>)</big><a class="headerlink" href="#chips.Scan" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Scan</em> instruction reads an integer value from a stream of decimal
ASCII characters.</p>
<p>Numeric characters separated by non-numeric characters are interpreted as
numbers. If <em>Scan</em> encounters a number that is too large to represent in a
process, the result is undefined.</p>
<p>The <em>Scan</em> accepts two arguments, the source stream and a destination variable.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#multiply by 2 and echo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inp</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="s">&quot;1 2 3 &quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">=</span><span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">Scan</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Console</span><span class="p">(</span><span class="n">Printer</span><span class="p">(</span><span class="n">out</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> 
<span class="go">2</span>
<span class="go">4</span>
<span class="go">6</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.Until">
<tt class="descclassname">chips.</tt><tt class="descname">Until</tt><big>(</big><em>condition</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.Until" title="Permalink to this definition">¶</a></dt>
<dd><p>A loop in which one iteration will be executed each time the condition
is false. The condition is tested before each loop iteration.</p>
<p>Equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Loop</span><span class="p">(</span> 
    <span class="n">If</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">Break</span><span class="p">()),</span>
   <span class="n">instructions</span><span class="p">,</span>
<span class="p">)</span> 
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.Value">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">Value</tt><big>(</big><em>expression</em><big>)</big><a class="headerlink" href="#chips.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Value</em> statement gives a value to the surrounding <em>Evaluate</em>
construct.</p>
<p>An <em>Evaluate</em>  expression allows a block of statements to be used as an
expression. When a <em>Value</em> is encountered, the supplied expression becomes
the value of the whole evaluate statement.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c">#provide a And expression similar to Pythons and expression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">LogicalAnd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">Evaluate</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">If</span><span class="p">(</span><span class="n">a</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">Value</span><span class="p">(</span><span class="n">b</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">)</span><span class="o">.</span><span class="n">Else</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">Value</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">check</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">If</span><span class="p">(</span><span class="n">LogicalAnd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">check</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="c">#true</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">Else</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">check</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="c">#false</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="n">Asserter</span><span class="p">(</span><span class="n">check</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="chips.WaitUs">
<em class="property">class </em><tt class="descclassname">chips.</tt><tt class="descname">WaitUs</tt><a class="headerlink" href="#chips.WaitUs" title="Permalink to this definition">¶</a></dt>
<dd><p><em>WaitUs</em> causes execution to halt until the next tick of the microsecond
timer.</p>
<p>In practice, this means that the process is stalled for less than 1
microsecond. This behaviour is useful when implementing a real-time
counter function because the execution time of statements does not affect
the time between <em>WaitUs</em> statements (Providing the statements do not take
more than 1 microsecond to execute of course!).</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">chips</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seconds</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_stream</span> <span class="o">=</span> <span class="n">Output</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Process</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">seconds</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Loop</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">While</span><span class="p">(</span><span class="n">count</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">WaitUs</span><span class="p">(),</span>
<span class="gp">... </span>            <span class="n">count</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="n">seconds</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">seconds</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">out_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">seconds</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">Process(...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="chips.While">
<tt class="descclassname">chips.</tt><tt class="descname">While</tt><big>(</big><em>condition</em>, <em>*instructions</em><big>)</big><a class="headerlink" href="#chips.While" title="Permalink to this definition">¶</a></dt>
<dd><p>A loop in which one iteration will be executed each time the condition
is true. The condition is tested before each loop iteration.</p>
<p>Equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Loop</span><span class="p">(</span> 
    <span class="n">If</span><span class="p">(</span><span class="n">Not</span><span class="p">(</span><span class="n">condition</span><span class="p">),</span> <span class="n">Break</span><span class="p">()),</span>
    <span class="n">instructions</span><span class="p">,</span>
<span class="p">)</span> 
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/chips.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Chips Language Reference Manual</a><ul>
<li><a class="reference internal" href="#chip">Chip</a></li>
<li><a class="reference internal" href="#module-chips.process">Process</a><ul>
<li><a class="reference internal" href="#process-inputs">Process Inputs</a></li>
<li><a class="reference internal" href="#process-outputs">Process Outputs</a></li>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#expressions">Expressions</a></li>
<li><a class="reference internal" href="#operator-precedence">Operator Precedence</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-chips.streams">Streams</a><ul>
<li><a class="reference internal" href="#stream-expressions">Stream Expressions</a></li>
<li><a class="reference internal" href="#id1">Operator Precedence</a></li>
<li><a class="reference internal" href="#streams-reference">Streams Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-chips.sinks">Sinks</a><ul>
<li><a class="reference internal" href="#sinks-reference">Sinks Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-chips.instruction">Instructions</a><ul>
<li><a class="reference internal" href="#instructions-reference">Instructions Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../tutorial/index.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../automatic_code_generation/index.html"
                        title="next chapter">Automatic Code Generation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/language_reference/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../automatic_code_generation/index.html" title="Automatic Code Generation"
             >next</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="Tutorial"
             >previous</a> |</li>
        <li><a href="../index.html">Chips v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Jonathan P Dawson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>